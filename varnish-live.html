<html> 
<head> 
<title>nowjs test</title> 
<script type="text/javascript" src="/smoothie.js"></script>
<script src="/socket.io/socket.io.js"></script> 
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
</head> 
 
<body> 
<canvas id="mycanvas" width="800" height="300"></canvas>
<script>
  var smoothie = new SmoothieChart({
    grid: { strokeStyle:'rgb(20, 0, 0)', fillStyle:'rgb(10, 0, 0)',
            lineWidth: 1, millisPerLine: 250, verticalSections: 4, },
    labels: { fillStyle:'rgb(60, 0, 0)' }
  });
  smoothie.streamTo(document.getElementById("mycanvas"), 1000);
  // Data
  var line1 = new TimeSeries();

  smoothie.addTimeSeries(line1,
  { strokeStyle:'rgb(0, 255, 0)', fillStyle:'rgba(0, 255, 0, 0.4)',   lineWidth:3 });

  var socket = new io.Socket('localhost'); 
  socket.connect();
  socket.on('message', function(msg){
    line1.append(new Date().getTime(), Number(msg));
  }) 

</script>
</body> 
</html> 
